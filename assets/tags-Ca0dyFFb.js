import{af as j,au as R,d as k,h as A,o as c,b as $,g as f,t as S,a2 as H,a3 as J,e as O,u as G,J as K,A as Q,N as U,x as C,D as X,T as Z,y as tt,m as t,w as n,c as T,a4 as et,f as s,$ as nt,F as b,l as st,n as at,v as ot,a5 as rt,C as it,a7 as ct,a6 as lt,q as ut}from"./app-B2nT23iv.js";import{_ as mt}from"./YunPostCollapse.vue_vue_type_style_index_0_lang-DhAbgb8s.js";import{a as pt,u as _t}from"./animation-jDr88-Jd.js";import{_ as ft}from"./YunPageHeader.vue_vue_type_script_setup_true_lang-Bkdvixtm.js";import"./index-x8TNrC4q.js";function gt(u={primary:"#0078E7"}){const a=j(),o=new R("#999999"),r=new R(u.primary);return{tags:a,getTagStyle:i=>{const p=Array.from(a.value).map(([d,h])=>h.count),g=Math.max(...p),e=Math.min(...p),y=g-e,_=(i-e)/y;return{"--yun-tag-color":o.mix(r,_*100).toString(),fontSize:`${_*36+12}px`}}}}const yt={"inline-flex":""},dt={"inline-flex":"",text:"xs"},ht=k({__name:"YunLayoutPostTag",props:{i:{},title:{},count:{}},setup(u){const a=u,o=A();return pt(o,{i:a.i||0,delay:25}),(r,m)=>(c(),$("span",{ref_key:"tagRef",ref:o,"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},[f("span",yt,"#"+S(r.title),1),f("span",dt,"["+S(r.count)+"]",1)],512))}}),vt={class:"yun-text-light",text:"center",p:"2"},xt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},Lt=k({__name:"tags",setup(u){H([J({"@type":"CollectionPage"})]);const a=O(),o=G(),r=K(),{t:m}=Q(),i=U(),{tags:p,getTagStyle:g}=gt({primary:r.value.colors.primary}),e=C(()=>a.query.tag||""),y=X(),_=C(()=>y.postList.filter(l=>l.tags?typeof l.tags=="string"?l.tags===e.value:l.tags.includes(e.value):!1)),d=A(),{show:h}=_t(d);function V(v){o.push({query:{tag:v}}),h()}const B=Z(i),Y=C(()=>Array.from(p.value).sort());return(v,l)=>{const F=rt,w=ft,N=ht,L=tt("RouterView"),q=mt,D=it,E=ct,z=lt,I=ut;return c(),$(b,null,[t(z,null,{default:n(()=>[t(F),t(L,null,{default:n(({Component:M})=>[(c(),T(et(M),null,{"main-header":n(()=>[t(w,{title:s(B)||s(m)("menu.tags"),icon:s(i).icon||"i-ri-tag-line",color:s(i).color,"page-title-class":s(i).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":n(()=>[t(nt,{"enter-active-class":"animate-fade-in animate-duration-400",appear:""},{default:n(()=>[f("div",vt,S(s(m)("counter.tags",Y.value.length)),1)]),_:1}),f("div",xt,[(c(!0),$(b,null,st(Y.value,([x,P],W)=>(c(),T(N,{key:x,i:W,title:x,count:P.count,style:at(s(g)(P.count)),onClick:Ct=>V(x.toString())},null,8,["i","title","count","style","onClick"]))),128))]),t(L)]),"main-nav-before":n(()=>[e.value?(c(),T(D,{key:0,ref_key:"collapse",ref:d,m:"t-4",w:"full"},{default:n(()=>[t(w,{title:e.value,icon:"i-ri-hashtag"},null,8,["title"]),t(q,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):ot("v-if",!0)]),_:2},1024))]),_:1}),t(E)]),_:1}),t(I)],64)}}});export{Lt as default};
